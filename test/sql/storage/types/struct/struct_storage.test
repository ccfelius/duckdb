# name: test/sql/storage/types/struct/struct_storage.test
# description: Test structs with persistent storage
# group: [types]

# load the DB from disk
load __TEST_DIR__/struct_storage_test.db

statement ok
CREATE TABLE a(b STRUCT(i INTEGER, j INTEGER));

statement ok
INSERT INTO a VALUES ({'i': 1, 'j': 2}), (NULL), ({'i': NULL, 'j': 2}), (ROW(1, NULL));

query I
SELECT * FROM a;
----
{'i': 1, 'j': 2}
NULL
{'i': NULL, 'j': 2}
{'i': 1, 'j': NULL}

restart

query I
SELECT * FROM a;
----
{'i': 1, 'j': 2}
NULL
{'i': NULL, 'j': 2}
{'i': 1, 'j': NULL}
