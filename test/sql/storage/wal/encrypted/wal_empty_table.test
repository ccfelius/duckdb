# name: test/sql/storage/wal/encrypted/wal_empty_table.test
# description: Test empty table with WAL
# group: [encrypted]

# load the DB from disk
load __TEST_DIR__/test_empty_table.db

statement ok
PRAGMA encrypt_wal

statement ok
PRAGMA disable_checkpoint_on_shutdown

statement ok
PRAGMA wal_autocheckpoint='1TB';

statement ok
CREATE TABLE test (a INTEGER, b VARCHAR)

query I
SELECT COUNT(*) FROM test
----
0


# verify that the table is still there after restart

restart

query I
SELECT COUNT(*) FROM test
----
0

