# name: test/sql/storage/temp_directory/encryption/encrypt_temp_files.test
# group: [encryption]

require block_size 262144

statement ok
PRAGMA disable_verification;

statement ok
SET memory_limit = '8MB';

statement ok
ATTACH '__TEST_DIR__/tmpdb.db' AS tempdb (ENCRYPTION_KEY 'asdf');

# 10M row table with 8B rows -> 80MB uncompressed - this requires the temp directory
statement ok
CREATE TEMPORARY TABLE tbl AS FROM range(10_000_000);

statement ok
SELECT * FROM tbl;