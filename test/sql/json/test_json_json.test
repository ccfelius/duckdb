# name: test/sql/json/test_json_json.test
# description: Test JSON json function
# group: [json]

require json

statement ok
pragma enable_verification

query T
select '{"duck": 42}'::json;
----
{"duck": 42}

query T
select '{"duck": 42}'::json::varchar;
----
{"duck": 42}

statement ok
create table test (j json, v varchar);

statement ok
insert into test values (' { "this" : "is", "a": [ "test" ] }', ' { "this" : "is", "a": [ "test" ] }')

query T
select j::varchar from test
----
 { "this" : "is", "a": [ "test" ] }

query T
SELECT v::varchar from test
----
 { "this" : "is", "a": [ "test" ] }

query T
SELECT json(j) from test;
----
{"this":"is","a":["test"]}

#query T
#select '{"duck": 42}'::JSON->'duck';
#----
#42
