# name: test/sql/json/test_json_create.test
# description: Test JSON create functions {json_object(), json_array(), json()}
# group: [json]

require json

statement ok
pragma enable_verification

query T
select json({n:42})
----
{"n":42}

query T
select json_object('duck', 42)
----
{"duck":42}

query T
select json_object('duck', '{"goose": [1, 2, 3, 4, 5, 6, 7]}'::JSON)
----
{"duck":{"goose":[1,2,3,4,5,6,7]}}

query T
select json_object('nested', {duck: 42})
----
{"nested":{"duck":42}}

query T
select json_object('nested', map(['duck'], [42]))
----
{"nested":{"duck":42}}

query T
select json_object('nested', [1, 2, 3])
----
{"nested":[1,2,3]}

query T
select json_object('nested', {nested2: [1, 2, 3]})
----
{"nested":{"nested2":[1,2,3]}}

query T
select json_object('nested', [{nested2: 1}, {nested2: 2}, {nested2: 3}])
----
{"nested":[{"nested2":1},{"nested2":2},{"nested2":3}]}
