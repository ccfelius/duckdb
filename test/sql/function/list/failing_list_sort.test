# temporary test case containing all currently failing list_sort tests

# list_sort.cpp, line 217 causes an assertion (list type) or a segmentation fault (varchar and json)
# both originate in sorted_block.cpp, line 348 (chunk.Verify())
# I checked and the key_chunk and payload_chunk being sunk into the sort look correct

mode skip

# VARCHAR
# AddressSanitizer: SEGV on unknown address 0x000105854214

query I
SELECT list_sort(['aa', 'a', 'cd', NULL, '42'])
----
[NULL, 42, a, aa, cd]

query I
SELECT list_sort([NULL::VARCHAR])
----
[NULL]

# JSON

query I
SELECT list_sort(['{a: 1}'::JSON, '{a: 3}'::JSON])
----
[{a: 1}, {a: 3}]

query I
SELECT list_sort([NULL::JSON])
----
[NULL]

# LIST type
# INTERNAL Error: Assertion triggered in file 
# "/Users/tania/DuckDB/duckdb/src/common/types/vector.cpp" on line 1058: le.offset + le.length <= child_size

query I
SELECT list_sort([[1], [1, 2], NULL, [NULL], [], [1, 2, 3]])
----
[NULL, [NULL], [], [1], [1, 2], [1, 2, 3]]

mode unskip