# name: test/sql/function/list/aggregates/failing.test
# description: Test list_sum and list_avg with bigints
# group: [aggregates]

#---- bigints_sum_avg.test ----#
statement ok
CREATE TABLE decimals (i DECIMAL(18,1)[]);

statement ok
INSERT INTO decimals VALUES ([1, 2, 3]);

# sum
query I
SELECT list_sum(i) FROM decimals;
----
6.0

#---- list_avg.test ----#
statement ok
CREATE SEQUENCE seq;

# this somehow only fails in the list_avg.test file - why?
query I
SELECT list_avg([nextval('seq')])
----
1

query I
SELECT list_avg([nextval('seq')])
----
2