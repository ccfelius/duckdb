# name: test/sql/copy/csv/test_export_not_null.test
# description: Test Export function that is not null
# group: [csv]

statement ok
PRAGMA enable_verification

statement ok
begin transaction;

statement ok
create table tbl(a VARCHAR NOT NULL)

statement ok
insert into tbl values ('');

statement ok
EXPORT DATABASE '__TEST_DIR__/broken_empty_string';

statement ok
abort;

statement ok
IMPORT DATABASE '__TEST_DIR__/broken_empty_string';

# Force not null can't be used explicitly
statement error
EXPORT DATABASE '__TEST_DIR__/broken_empty_string_2' (FORCE_NOT_NULL ['A']);
----
Unrecognized option