# name: test/sql/generated_columns/virtual/casting.test
# description: Test generated column behavior when casting is involved
# group: [virtual]

# Create a table with a generated column, that contains a CAST
statement ok
CREATE TABLE tbl (
	price INTEGER,
	total_price AS ((price)::DATE)
);

# Insert value(s) into the column(s)
# Because of the silently generated CHECK constraint, this insert fails
# '(Error: Conversion Error: Unimplemented type for cast (INTEGER -> DATE))'
statement error
INSERT INTO tbl VALUES (5);

